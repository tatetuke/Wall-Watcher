<?xml version="1.0" encoding="UTF-8" standalone="no"?><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentScriptType="application/ecmascript" contentStyleType="text/css" height="906px" preserveAspectRatio="none" style="width:954px;height:906px;" version="1.1" viewBox="0 0 954 906" width="954px" zoomAndPan="magnify"><defs><filter height="300%" id="f1v3lpa9c8k845" width="300%" x="-1" y="-1"><feGaussianBlur result="blurOut" stdDeviation="2.0"/><feColorMatrix in="blurOut" result="blurOut2" type="matrix" values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 .4 0"/><feOffset dx="4.0" dy="4.0" in="blurOut2" result="blurOut3"/><feBlend in="SourceGraphic" in2="blurOut3" mode="normal"/></filter></defs><g><!--MD5=[2c6f4999d3f282dbc46c3c795ef76d41]
cluster Save--><polygon fill="#FFFFFF" filter="url(#f1v3lpa9c8k845)" points="16,6,57,6,64,29.6094,937,29.6094,937,899,16,899,16,6" style="stroke:#000000;stroke-width:1.5;"/><line style="stroke:#000000;stroke-width:1.5;" x1="16" x2="64" y1="29.6094" y2="29.6094"/><text fill="#000000" font-family="sans-serif" font-size="14" font-weight="bold" lengthAdjust="spacing" textLength="35" x="20" y="22.5332">Save</text><!--MD5=[4e885c7ada71d32c552044ca4ae56487]
class DataBank--><rect codeLine="1" fill="#FEFECE" filter="url(#f1v3lpa9c8k845)" height="297.0469" id="DataBank" style="stroke:#A80036;stroke-width:1.5;" width="258" x="245" y="482"/><ellipse cx="342.75" cy="498" fill="#ADD1B2" rx="11" ry="11" style="stroke:#A80036;stroke-width:1.0;"/><path d="M345.4531,503.4375 Q344.5313,504.3594 342.2656,504.3594 Q341,504.3594 340.0781,503.4375 Q338.4219,501.7813 338.4219,498.25 Q338.4219,494.1406 340.2031,492.3438 Q341.1406,491.4219 342.3281,491.4219 Q344.5938,491.4219 345.3281,492.1406 Q346.7188,493.5469 346.6563,495.9375 L344.1875,495.9375 Q344.125,493.8125 343.3906,493.0781 Q343,492.6719 342.3281,492.6719 Q342.3281,492.6719 342.2656,493.1406 Q340.9375,494.4688 340.9375,498.125 Q340.9375,501.3125 342.0781,502.4375 Q342.6094,502.9688 342.6094,502.9688 Q342.8594,502.9688 343.3906,502.4375 Q344.0625,501.7813 344.125,499.3906 L346.7188,499.3906 Q346.5156,502.375 345.4531,503.4375 Z " fill="#000000"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="54" x="363.25" y="502.9102">DataBank</text><line style="stroke:#A80036;stroke-width:1.5;" x1="246" x2="502" y1="514" y2="514"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" text-decoration="underline" textLength="96" x="265" y="529.4189">instance : DataBank</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" text-decoration="underline" textLength="224" x="265" y="543.2549">bank : Dictionary&lt;string, SaveDataBaseClass&gt;</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" text-decoration="underline" textLength="181" x="265" y="557.0908">«readonly» path : string = "SaveData"</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" text-decoration="underline" textLength="128" x="265" y="570.9268">«readonly» fullPath : string</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" text-decoration="underline" textLength="175" x="265" y="584.7627">«readonly» extension : string = "dat"</text><ellipse cx="256" cy="594.1797" fill="none" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="112" x="265" y="598.5986">SavePath : string «get»</text><ellipse cx="256" cy="608.0156" fill="none" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" text-decoration="underline" textLength="126" x="265" y="612.4346">Instance : DataBank «get»</text><line style="stroke:#A80036;stroke-width:1.5;" x1="246" x2="502" y1="618.8516" y2="618.8516"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="54" x="265" y="634.2705">DataBank()</text><ellipse cx="256" cy="643.6875" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" text-decoration="underline" textLength="89" x="265" y="648.1064">Open() : DataBank</text><ellipse cx="256" cy="657.5234" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="74" x="265" y="661.9424">IsEmpty() : bool</text><ellipse cx="256" cy="671.3594" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="132" x="265" y="675.7783">ExistsKey(key:string) : bool</text><ellipse cx="256" cy="685.1953" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="232" x="265" y="689.6143">Store(key:string, obj:SaveDataBaseClass) : void</text><ellipse cx="256" cy="699.0313" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="62" x="265" y="703.4502">Clear() : void</text><ellipse cx="256" cy="712.8672" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="123" x="265" y="717.2861">Remove(key:string) : void</text><ellipse cx="256" cy="726.7031" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="127" x="265" y="731.1221">Get(key:string) : DataType</text><ellipse cx="256" cy="740.5391" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="74" x="265" y="744.958">SaveAll() : void</text><ellipse cx="256" cy="754.375" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="109" x="265" y="758.7939">Save(key:string) : bool</text><ellipse cx="256" cy="768.2109" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="108" x="265" y="772.6299">Load(key:string) : bool</text><path d="M253,840 L253,882.7031 A0,0 0 0 0 253,882.7031 L495,882.7031 A0,0 0 0 0 495,882.7031 L495,850 L485,840 L378,840 L374,779.12 L370,840 L253,840 A0,0 0 0 0 253,840 " fill="#FBFB77" filter="url(#f1v3lpa9c8k845)" style="stroke:#A80036;stroke-width:1.0;"/><path d="M485,840 L485,850 L495,850 L485,840 " fill="#FBFB77" style="stroke:#A80036;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="221" x="259" y="858.4951">データのファイルへの読み書きを行う</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="216" x="259" y="874.8467">各クラスはJSON形式へと変換される</text><!--MD5=[9361b092b949ae3f65ddb309ef739828]
class SaveDataBaseClass--><rect codeLine="2" fill="#FEFECE" filter="url(#f1v3lpa9c8k845)" height="61.8359" id="SaveDataBaseClass" style="stroke:#A80036;stroke-width:1.5;" width="165" x="755.5" y="42"/><ellipse cx="778.6" cy="58" fill="#ADD1B2" rx="11" ry="11" style="stroke:#A80036;stroke-width:1.0;"/><path d="M781.3031,63.4375 Q780.3813,64.3594 778.1156,64.3594 Q776.85,64.3594 775.9281,63.4375 Q774.2719,61.7813 774.2719,58.25 Q774.2719,54.1406 776.0531,52.3438 Q776.9906,51.4219 778.1781,51.4219 Q780.4438,51.4219 781.1781,52.1406 Q782.5688,53.5469 782.5063,55.9375 L780.0375,55.9375 Q779.975,53.8125 779.2406,53.0781 Q778.85,52.6719 778.1781,52.6719 Q778.1781,52.6719 778.1156,53.1406 Q776.7875,54.4688 776.7875,58.125 Q776.7875,61.3125 777.9281,62.4375 Q778.4594,62.9688 778.4594,62.9688 Q778.7094,62.9688 779.2406,62.4375 Q779.9125,61.7813 779.975,59.3906 L782.5688,59.3906 Q782.3656,62.375 781.3031,63.4375 Z " fill="#000000"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="115" x="794.4" y="62.9102">SaveDataBaseClass</text><line style="stroke:#A80036;stroke-width:1.5;" x1="756.5" x2="919.5" y1="74" y2="74"/><line style="stroke:#A80036;stroke-width:1.5;" x1="756.5" x2="919.5" y1="82" y2="82"/><ellipse cx="766.5" cy="93" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="139" x="775.5" y="97.4189">«override» ToString() : string</text><!--MD5=[2e728a9c2e90a7f4d27867e53f3afd93]
class SaveLoadableMonoBehaviour--><rect codeLine="1" fill="#FEFECE" filter="url(#f1v3lpa9c8k845)" height="103.3438" id="SaveLoadableMonoBehaviour" style="stroke:#A80036;stroke-width:1.5;" width="199" x="542.5" y="241.5"/><ellipse cx="557.5" cy="257.5" fill="#A9DCDF" rx="11" ry="11" style="stroke:#A80036;stroke-width:1.0;"/><path d="M555.3594,263.3594 L552.7656,263.3594 L556.0938,250.4219 L558.4219,250.4219 L561.7344,263.3594 L559.1406,263.3594 L558.2188,259.5781 L556.2969,259.5781 L555.3594,263.3594 Z M556.8125,253.9375 L556.8125,253.9375 L556.625,258.3125 L557.875,258.3125 L556.8125,253.9375 Z " fill="#000000"/><text fill="#000000" font-family="sans-serif" font-size="12" font-style="italic" lengthAdjust="spacing" textLength="167" x="571.5" y="262.4102">SaveLoadableMonoBehaviour</text><line style="stroke:#A80036;stroke-width:1.5;" x1="543.5" x2="740.5" y1="273.5" y2="273.5"/><line style="stroke:#A80036;stroke-width:1.5;" x1="543.5" x2="740.5" y1="281.5" y2="281.5"/><polygon fill="#FFFF44" points="553.5,287.5,557.5,291.5,553.5,295.5,549.5,291.5" style="stroke:#B38D22;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" font-style="italic" lengthAdjust="spacing" textLength="61" x="562.5" y="296.9189">Save() : void</text><polygon fill="#FFFF44" points="553.5,301.3359,557.5,305.3359,553.5,309.3359,549.5,305.3359" style="stroke:#B38D22;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" font-style="italic" lengthAdjust="spacing" textLength="61" x="562.5" y="310.7549">Load() : void</text><polygon fill="#FFFF44" points="553.5,315.1719,557.5,319.1719,553.5,323.1719,549.5,319.1719" style="stroke:#B38D22;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" font-style="italic" lengthAdjust="spacing" textLength="129" x="562.5" y="324.5908">GetKeyList() : List&lt;string&gt;</text><polygon fill="#FFFF44" points="553.5,329.0078,557.5,333.0078,553.5,337.0078,549.5,333.0078" style="stroke:#B38D22;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="116" x="562.5" y="338.4268">«virtual» Awake() : void</text><!--MD5=[83b3cf3d23d77c6f1e1b5291a241bc2a]
class MonoBehaviour--><rect fill="#FEFECE" filter="url(#f1v3lpa9c8k845)" height="48" id="MonoBehaviour" style="stroke:#A80036;stroke-width:1.5;" width="117" x="583.5" y="49"/><ellipse cx="598.5" cy="65" fill="#ADD1B2" rx="11" ry="11" style="stroke:#A80036;stroke-width:1.0;"/><path d="M601.2031,70.4375 Q600.2813,71.3594 598.0156,71.3594 Q596.75,71.3594 595.8281,70.4375 Q594.1719,68.7813 594.1719,65.25 Q594.1719,61.1406 595.9531,59.3438 Q596.8906,58.4219 598.0781,58.4219 Q600.3438,58.4219 601.0781,59.1406 Q602.4688,60.5469 602.4063,62.9375 L599.9375,62.9375 Q599.875,60.8125 599.1406,60.0781 Q598.75,59.6719 598.0781,59.6719 Q598.0781,59.6719 598.0156,60.1406 Q596.6875,61.4688 596.6875,65.125 Q596.6875,68.3125 597.8281,69.4375 Q598.3594,69.9688 598.3594,69.9688 Q598.6094,69.9688 599.1406,69.4375 Q599.8125,68.7813 599.875,66.3906 L602.4688,66.3906 Q602.2656,69.375 601.2031,70.4375 Z " fill="#000000"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="85" x="612.5" y="69.9102">MonoBehaviour</text><line style="stroke:#A80036;stroke-width:1.5;" x1="584.5" x2="699.5" y1="81" y2="81"/><line style="stroke:#A80036;stroke-width:1.5;" x1="584.5" x2="699.5" y1="89" y2="89"/><!--MD5=[f574af53c9cef6c1def2ebcca3cc22dd]
class SaveLoadManager--><rect codeLine="1" fill="#FEFECE" filter="url(#f1v3lpa9c8k845)" height="255.5391" id="SaveLoadManager" style="stroke:#A80036;stroke-width:1.5;" width="255" x="32.5" y="165"/><ellipse cx="104.25" cy="181" fill="#ADD1B2" rx="11" ry="11" style="stroke:#A80036;stroke-width:1.0;"/><path d="M106.9531,186.4375 Q106.0313,187.3594 103.7656,187.3594 Q102.5,187.3594 101.5781,186.4375 Q99.9219,184.7813 99.9219,181.25 Q99.9219,177.1406 101.7031,175.3438 Q102.6406,174.4219 103.8281,174.4219 Q106.0938,174.4219 106.8281,175.1406 Q108.2188,176.5469 108.1563,178.9375 L105.6875,178.9375 Q105.625,176.8125 104.8906,176.0781 Q104.5,175.6719 103.8281,175.6719 Q103.8281,175.6719 103.7656,176.1406 Q102.4375,177.4688 102.4375,181.125 Q102.4375,184.3125 103.5781,185.4375 Q104.1094,185.9688 104.1094,185.9688 Q104.3594,185.9688 104.8906,185.4375 Q105.5625,184.7813 105.625,182.3906 L108.2188,182.3906 Q108.0156,185.375 106.9531,186.4375 Z " fill="#000000"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="103" x="124.75" y="185.9102">SaveLoadManager</text><line style="stroke:#A80036;stroke-width:1.5;" x1="33.5" x2="286.5" y1="197" y2="197"/><rect fill="none" height="6" style="stroke:#C82930;stroke-width:1.0;" width="6" x="40.5" y="205"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="57" x="52.5" y="212.4189">path : string</text><rect fill="none" height="6" style="stroke:#C82930;stroke-width:1.0;" width="6" x="40.5" y="218.8359"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="213" x="52.5" y="226.2549">usedKeyDictionary : Dictionary&lt;string, bool&gt;</text><rect fill="none" height="6" style="stroke:#C82930;stroke-width:1.0;" width="6" x="40.5" y="232.6719"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="126" x="52.5" y="240.0908">SaveCallBack : UnityEvent</text><rect fill="none" height="6" style="stroke:#C82930;stroke-width:1.0;" width="6" x="40.5" y="246.5078"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="125" x="52.5" y="253.9268">LoadCallBack : UnityEvent</text><line style="stroke:#A80036;stroke-width:1.5;" x1="33.5" x2="286.5" y1="260.3438" y2="260.3438"/><rect fill="#F24D5C" height="6" style="stroke:#C82930;stroke-width:1.0;" width="6" x="40.5" y="268.3438"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="72" x="52.5" y="275.7627">Awake() : void</text><ellipse cx="43.5" cy="285.1797" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="74" x="52.5" y="289.5986">SaveAll() : void</text><ellipse cx="43.5" cy="299.0156" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="73" x="52.5" y="303.4346">LoadAll() : void</text><ellipse cx="43.5" cy="312.8516" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="205" x="52.5" y="317.2705">AddSaveCallBack(save:UnityAction) : void</text><ellipse cx="43.5" cy="326.6875" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="200" x="52.5" y="331.1064">AddLoadCallBack(load:UnityAction) : void</text><ellipse cx="43.5" cy="340.5234" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="177" x="52.5" y="344.9424">CheckKeyAvailable(key:string) : bool</text><ellipse cx="43.5" cy="354.3594" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="229" x="52.5" y="358.7783">CheckKeyListAvailable(keys:List&lt;string&gt;) : bool</text><ellipse cx="43.5" cy="368.1953" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="123" x="52.5" y="372.6143">AddKey(key:string) : void</text><ellipse cx="43.5" cy="382.0313" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="175" x="52.5" y="386.4502">AddKeyList(keys:List&lt;string&gt;) : void</text><ellipse cx="43.5" cy="395.8672" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="62" x="52.5" y="400.2861">Clear() : void</text><ellipse cx="43.5" cy="409.7031" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="103" x="52.5" y="414.1221">ShowAllKeys() : void</text><!--MD5=[609e24651a26c9ab8f0dde69a133127a]
class ExampleSaveData--><rect codeLine="1" fill="#FEFECE" filter="url(#f1v3lpa9c8k845)" height="89.5078" id="ExampleSaveData" style="stroke:#A80036;stroke-width:1.5;" width="133" x="776.5" y="248"/><ellipse cx="791.5" cy="264" fill="#ADD1B2" rx="11" ry="11" style="stroke:#A80036;stroke-width:1.0;"/><path d="M794.2031,269.4375 Q793.2813,270.3594 791.0156,270.3594 Q789.75,270.3594 788.8281,269.4375 Q787.1719,267.7813 787.1719,264.25 Q787.1719,260.1406 788.9531,258.3438 Q789.8906,257.4219 791.0781,257.4219 Q793.3438,257.4219 794.0781,258.1406 Q795.4688,259.5469 795.4063,261.9375 L792.9375,261.9375 Q792.875,259.8125 792.1406,259.0781 Q791.75,258.6719 791.0781,258.6719 Q791.0781,258.6719 791.0156,259.1406 Q789.6875,260.4688 789.6875,264.125 Q789.6875,267.3125 790.8281,268.4375 Q791.3594,268.9688 791.3594,268.9688 Q791.6094,268.9688 792.1406,268.4375 Q792.8125,267.7813 792.875,265.3906 L795.4688,265.3906 Q795.2656,268.375 794.2031,269.4375 Z " fill="#000000"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="101" x="805.5" y="268.9102">ExampleSaveData</text><line style="stroke:#A80036;stroke-width:1.5;" x1="777.5" x2="908.5" y1="280" y2="280"/><ellipse cx="787.5" cy="291" fill="none" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="54" x="796.5" y="295.4189">text : string</text><ellipse cx="787.5" cy="304.8359" fill="none" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="58" x="796.5" y="309.2549">color : Color</text><ellipse cx="787.5" cy="318.6719" fill="none" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="85" x="796.5" y="323.0908">position : Vector3</text><line style="stroke:#A80036;stroke-width:1.5;" x1="777.5" x2="908.5" y1="329.5078" y2="329.5078"/><!--MD5=[e7a44a9884088516834769e67dd7e71d]
class SaveLoadableMonoBehaviourTest--><rect codeLine="6" fill="#FEFECE" filter="url(#f1v3lpa9c8k845)" height="172.5234" id="SaveLoadableMonoBehaviourTest" style="stroke:#A80036;stroke-width:1.5;" width="220" x="701" y="544"/><ellipse cx="716" cy="560" fill="#ADD1B2" rx="11" ry="11" style="stroke:#A80036;stroke-width:1.0;"/><path d="M718.7031,565.4375 Q717.7813,566.3594 715.5156,566.3594 Q714.25,566.3594 713.3281,565.4375 Q711.6719,563.7813 711.6719,560.25 Q711.6719,556.1406 713.4531,554.3438 Q714.3906,553.4219 715.5781,553.4219 Q717.8438,553.4219 718.5781,554.1406 Q719.9688,555.5469 719.9063,557.9375 L717.4375,557.9375 Q717.375,555.8125 716.6406,555.0781 Q716.25,554.6719 715.5781,554.6719 Q715.5781,554.6719 715.5156,555.1406 Q714.1875,556.4688 714.1875,560.125 Q714.1875,563.3125 715.3281,564.4375 Q715.8594,564.9688 715.8594,564.9688 Q716.1094,564.9688 716.6406,564.4375 Q717.3125,563.7813 717.375,561.3906 L719.9688,561.3906 Q719.7656,564.375 718.7031,565.4375 Z " fill="#000000"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="188" x="730" y="564.9102">SaveLoadableMonoBehaviourTest</text><line style="stroke:#A80036;stroke-width:1.5;" x1="702" x2="920" y1="576" y2="576"/><rect fill="none" height="6" style="stroke:#C82930;stroke-width:1.0;" width="6" x="709" y="584"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="147" x="721" y="591.4189">text : TMPro.TextMeshProUGUI</text><rect fill="none" height="6" style="stroke:#C82930;stroke-width:1.0;" width="6" x="709" y="597.8359"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="79" x="721" y="605.2549">saveKey : string</text><rect fill="none" height="6" style="stroke:#C82930;stroke-width:1.0;" width="6" x="709" y="611.6719"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="183" x="721" y="619.0908">exampleSaveData : ExampleSaveData</text><line style="stroke:#A80036;stroke-width:1.5;" x1="702" x2="920" y1="625.5078" y2="625.5078"/><polygon fill="#FFFF44" points="712,631.5078,716,635.5078,712,639.5078,708,635.5078" style="stroke:#B38D22;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="117" x="721" y="640.9268">«override» Save() : void</text><polygon fill="#FFFF44" points="712,645.3438,716,649.3438,712,653.3438,708,649.3438" style="stroke:#B38D22;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="116" x="721" y="654.7627">«override» Load() : void</text><polygon fill="#FFFF44" points="712,659.1797,716,663.1797,712,667.1797,708,663.1797" style="stroke:#B38D22;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="181" x="721" y="668.5986">«override» GetKeyList() : List&lt;string&gt;</text><polygon fill="#FFFF44" points="712,673.0156,716,677.0156,712,681.0156,708,677.0156" style="stroke:#B38D22;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="127" x="721" y="682.4346">«override» Awake() : void</text><ellipse cx="712" cy="691.8516" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="83" x="721" y="696.2705">SaveTest() : void</text><ellipse cx="712" cy="705.6875" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="82" x="721" y="710.1064">LoadTest() : void</text><path d="M32.5,601 L32.5,660.0547 A0,0 0 0 0 32.5,660.0547 L209.5,660.0547 A0,0 0 0 0 209.5,660.0547 L209.5,611 L199.5,601 L128.35,601 L145.2,421.32 L120.35,601 L32.5,601 A0,0 0 0 0 32.5,601 " fill="#FBFB77" filter="url(#f1v3lpa9c8k845)" style="stroke:#A80036;stroke-width:1.0;"/><path d="M199.5,601 L199.5,611 L209.5,611 L199.5,601 " fill="#FBFB77" style="stroke:#A80036;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="123" x="38.5" y="619.4951">SaveAll(), LoadAll()で</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="156" x="38.5" y="635.8467">一括セーブ・ロードが可能</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="138" x="38.5" y="652.1982">keyの重複の確認も行う</text><!--MD5=[1231053a100848b42676a8cd401add73]
class SingletonMonoBehaviour`1--><rect fill="#FEFECE" filter="url(#f1v3lpa9c8k845)" height="48" id="SingletonMonoBehaviour`1" style="stroke:#A80036;stroke-width:1.5;" width="180" x="70" y="49"/><ellipse cx="85" cy="65" fill="#ADD1B2" rx="11" ry="11" style="stroke:#A80036;stroke-width:1.0;"/><path d="M87.7031,70.4375 Q86.7813,71.3594 84.5156,71.3594 Q83.25,71.3594 82.3281,70.4375 Q80.6719,68.7813 80.6719,65.25 Q80.6719,61.1406 82.4531,59.3438 Q83.3906,58.4219 84.5781,58.4219 Q86.8438,58.4219 87.5781,59.1406 Q88.9688,60.5469 88.9063,62.9375 L86.4375,62.9375 Q86.375,60.8125 85.6406,60.0781 Q85.25,59.6719 84.5781,59.6719 Q84.5781,59.6719 84.5156,60.1406 Q83.1875,61.4688 83.1875,65.125 Q83.1875,68.3125 84.3281,69.4375 Q84.8594,69.9688 84.8594,69.9688 Q85.1094,69.9688 85.6406,69.4375 Q86.3125,68.7813 86.375,66.3906 L88.9688,66.3906 Q88.7656,69.375 87.7031,70.4375 Z " fill="#000000"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="148" x="99" y="69.9102">SingletonMonoBehaviour`1</text><line style="stroke:#A80036;stroke-width:1.5;" x1="71" x2="249" y1="81" y2="81"/><line style="stroke:#A80036;stroke-width:1.5;" x1="71" x2="249" y1="89" y2="89"/><!--MD5=[934db64d69e5fe120dd25d0d0ebc5d7c]
reverse link MonoBehaviour to SaveLoadableMonoBehaviour--><path codeLine="7" d="M642,117.38 C642,153.09 642,203.77 642,241.34 " fill="none" id="MonoBehaviour-backto-SaveLoadableMonoBehaviour" style="stroke:#A80036;stroke-width:1.0;"/><polygon fill="none" points="635,117.33,642,97.33,649,117.33,635,117.33" style="stroke:#A80036;stroke-width:1.0;"/><!--MD5=[0794c953e0f942422c337ddff7c3e3f6]
link SaveLoadManager to SaveLoadableMonoBehaviour--><path codeLine="8" d="M287.59,293 C367.35,293 468.59,293 542.43,293 " fill="none" id="SaveLoadManager-SaveLoadableMonoBehaviour" style="stroke:#A80036;stroke-width:1.0;"/><path d="M310,222 L310,281 L516,281 L516,232 L506,222 L310,222 " fill="#FBFB77" filter="url(#f1v3lpa9c8k845)" style="stroke:#A80036;stroke-width:1.0;"/><path d="M506,222 L506,232 L516,232 L506,222 " fill="#FBFB77" style="stroke:#A80036;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="185" x="316" y="240.4951">GetKeyList()でkeyの重複を確認</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="155" x="316" y="256.8467">Save()をSaveCallBackに、</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="168" x="316" y="273.1982">Load()をLoadCallBackに登録</text><!--MD5=[312a7a3287dd268e7ce25526628f7813]
reverse link SaveDataBaseClass to ExampleSaveData--><path codeLine="17" d="M839.16,124.53 C840.01,161.76 841.16,211.91 841.98,247.61 " fill="none" id="SaveDataBaseClass-backto-ExampleSaveData" style="stroke:#A80036;stroke-width:1.0;"/><polygon fill="none" points="832.16,124.47,838.7,104.31,846.15,124.15,832.16,124.47" style="stroke:#A80036;stroke-width:1.0;"/><!--MD5=[d50b8f09371e45ceaacdec4489fc9753]
reverse link SaveLoadableMonoBehaviour to SaveLoadableMonoBehaviourTest--><path codeLine="18" d="M676.55,362.58 C702.96,415.03 739.54,487.64 767.88,543.89 " fill="none" id="SaveLoadableMonoBehaviour-backto-SaveLoadableMonoBehaviourTest" style="stroke:#A80036;stroke-width:1.0;"/><polygon fill="none" points="670.23,365.6,667.48,344.59,682.73,359.3,670.23,365.6" style="stroke:#A80036;stroke-width:1.0;"/><!--MD5=[36249418adfc3e171921cf3ca6e6e2f2]
link DataBank to SaveLoadableMonoBehaviourTest--><path codeLine="19" d="M503.05,630.5 C565.85,630.5 640.57,630.5 700.69,630.5 " fill="none" id="DataBank-SaveLoadableMonoBehaviourTest" style="stroke:#A80036;stroke-width:1.0;"/><path d="M525.5,576.5 L525.5,618.5 L674.5,618.5 L674.5,586.5 L664.5,576.5 L525.5,576.5 " fill="#FBFB77" filter="url(#f1v3lpa9c8k845)" style="stroke:#A80036;stroke-width:1.0;"/><path d="M664.5,576.5 L664.5,586.5 L674.5,586.5 L664.5,576.5 " fill="#FBFB77" style="stroke:#A80036;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="128" x="531.5" y="594.9951">Save(),Load()の実装で</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="96" x="531.5" y="611.3467">DataBankを使用</text><!--MD5=[6719c941471386dd69a18292ecd1eef1]
reverse link SingletonMonoBehaviour`1 to SaveLoadManager--><path codeLine="24" d="M160,117.56 C160,131.6 160,147.94 160,164.88 " fill="none" id="SingletonMonoBehaviour`1-backto-SaveLoadManager" style="stroke:#A80036;stroke-width:1.0;"/><polygon fill="none" points="153,117.33,160,97.33,167,117.33,153,117.33" style="stroke:#A80036;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="122" x="23.8937" y="118.3421">&lt;SaveLoadManager&gt;</text><!--MD5=[a5d960ad98ed96ea8b63f2a0fc9f25a6]
@startuml
package Save{
    !include .\\Save/DataBank.puml
    !include .\\Save/SaveData.puml
    !include .\\Save/SaveLoadableMonoBehaviour.puml
    !include .\\Save/SaveLoadableMonoBehaviourTest.puml
    !include .\\Save/SaveLoadManager.puml
}
@enduml

@startuml
package Save{
class DataBank {
    {static} instance : DataBank
    {static} bank : Dictionary<string, SaveDataBaseClass>
    {static} <<readonly>> path : string = "SaveData"
    {static} <<readonly>> fullPath : string
    {static} <<readonly>> extension : string = "dat"
    + SavePath : string <<get>>
    DataBank()
    + {static} Open() : DataBank
    + {static} Instance : DataBank <<get>>
    + IsEmpty() : bool
    + ExistsKey(key:string) : bool
    + Store(key:string, obj:SaveDataBaseClass) : void
    + Clear() : void
    + Remove(key:string) : void
    + Get(key:string) : DataType
    + SaveAll() : void
    + Save(key:string) : bool
    + Load(key:string) : bool
}
note bottom of DataBank
    データのファイルへの読み書きを行う
    各クラスはJSON形式へと変換される
end note

class SaveDataBaseClass {
    + <<override>> ToString() : string
}

abstract class SaveLoadableMonoBehaviour {
    # {abstract} Save() : void
    # {abstract} Load() : void
    # {abstract} GetKeyList() : List<string>
    # <<virtual>> Awake() : void
}
MonoBehaviour <|- - SaveLoadableMonoBehaviour
SaveLoadableMonoBehaviour -left- SaveLoadManager
note right on link 
    GetKeyList()でkeyの重複を確認
    Save()をSaveCallBackに、
    Load()をLoadCallBackに登録
end note

class ExampleSaveData {
    + text : string
    + color : Color
    + position : Vector3
}
class SaveLoadableMonoBehaviourTest {
    - text : TMPro.TextMeshProUGUI
    - saveKey : string
    - exampleSaveData : ExampleSaveData
    # <<override>> Save() : void
    # <<override>> Load() : void
    # <<override>> GetKeyList() : List<string>
    # <<override>> Awake() : void
    + SaveTest() : void
    + LoadTest() : void
}
SaveDataBaseClass <|- - ExampleSaveData
SaveLoadableMonoBehaviour <|- - SaveLoadableMonoBehaviourTest
SaveLoadableMonoBehaviourTest -left- DataBank
note right on link 
    Save(),Load()の実装で
    DataBankを使用
end note
class SaveLoadManager {
    - path : string
    - usedKeyDictionary : Dictionary<string, bool>
    - SaveCallBack : UnityEvent
    - LoadCallBack : UnityEvent
    - Awake() : void
    + SaveAll() : void
    + LoadAll() : void
    + AddSaveCallBack(save:UnityAction) : void
    + AddLoadCallBack(load:UnityAction) : void
    + CheckKeyAvailable(key:string) : bool
    + CheckKeyListAvailable(keys:List<string>) : bool
    + AddKey(key:string) : void
    + AddKeyList(keys:List<string>) : void
    + Clear() : void
    + ShowAllKeys() : void
}
note bottom of SaveLoadManager
    SaveAll(), LoadAll()で
    一括セーブ・ロードが可能
    keyの重複の確認も行う
end note

"SingletonMonoBehaviour`1" "<SaveLoadManager>" <|- - SaveLoadManager
}
@enduml

PlantUML version 1.2021.00(Sun Jan 10 19:25:05 GMT+09:00 2021)
(GPL source distribution)
Java Runtime: Java(TM) SE Runtime Environment
JVM: Java HotSpot(TM) 64-Bit Server VM
Default Encoding: MS932
Language: ja
Country: JP
--></g></svg>